# ExoCore-Kernel

**WARNING**: This prerelease is one of the first kernels generated by ChatGPT o3 and o4-mini. It is unstable and may contain bugs. Do not run on real hardware; use QEMU or a virtual machine.

**NOTICE**: The `linkdep` folder is where you may place your .h or .c, and any scripts calling these functions will be referenced.

## Features

* Minimal exokernel core written in C and assembly
* Console I/O stub (`run/console_mod.o`) for linking native code
* Build script packages `.py` files in `run/` as MicroPython modules
* ISO packaging via GRUB for easy QEMU testing
* Interrupt descriptor table with fault-driven panics
* TinyScript interpreter allows text-based `.ts` modules
* Simple memory-backed filesystem driver that can mount, read, and write storage
* FAT filesystem driver for real disks with bad sector detection
* Basic ATA PIO driver for block storage access
* Kernel-integrated MicroPython loader scanning `/mpymod` ([docs](docs/Kernel-Integrated-Module-Loader.md))

## Prerequisites

Install the following on Ubuntu (or a similar Linux distribution):

* Cross‑compiler (e.g. `x86_64-elf-gcc`)
* Binutils cross tools (`x86_64-elf-ld`)
* NASM (for assembly modules)
* `grub-mkrescue` and `mtools` (required for ISO generation)
* `qemu-system-x86_64` (or your emulator of choice)
* `make`, `bash`, and standard Unix utilities

## Building

1. Clone the repository and navigate into it:

   ```bash
   git clone https://github.com/ExoCore-Kernel/ExoCore-Kernel.git
   cd ExoCore-Kernel
   ```

2. Adjust `build.sh` if your cross‑toolchain is installed in a nonstandard location.

3. Make the script executable and run it:

   ```bash
   chmod +x build.sh
   ./build.sh
   ```

   When executed, `build.sh` automatically checks for updates from this repository and the bundled Micropython source, applying them before building.

   This will clean previous builds, compile the kernel stub, package MicroPython modules from `run/`, link with GRUB, and produce `exocore.iso`.

## Running in QEMU

To build and launch QEMU in one step:

```bash
./build.sh run
```

Use the optional `nographic` parameter to run QEMU without a graphical window:

```bash
./build.sh run nographic
```

Alternatively, after building, run QEMU manually:

```bash
qemu-system-x86_64 -cdrom exocore.iso -m 128M
```

## Adding Your Own Code

1. Place your Python file (e.g. `myapp.py`) into the `run/` directory.
2. Rebuild with `./build.sh`; the script packages these MicroPython modules automatically.
3. Select your new module in QEMU via the boot menu or launch it directly.

## Contributing

* Open issues for bug reports or feature requests.
* Submit pull requests for improvements, new modules, or documentation updates.
* Follow the existing code style (K\&R C, minimal dependencies).

## License

This project is released under the MIT License. You are free to fork, modify, and redistribute with proper attribution.
