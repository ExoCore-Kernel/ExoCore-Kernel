# ExoCore-Kernel

**WARNING**: This prerelease is one of the first kernels generated by ChatGPT o3 and o4-mini. It is unstable and may contain bugs. Do not run on real hardware; use QEMU or a virtual machine.

**NOTICE**: The `linkdep` folder is where you may place your .h or .c, and any scripts calling these functions will be referenced.

## Features

* Minimal exokernel core written in C and assembly
* Console I/O stub (`run/console_mod.o`) for linking modules
* Automatic build script that compiles each C app in `run/` into ELF modules
* ISO packaging via GRUB for easy QEMU testing
* Example `simple-demo` app demonstrating keyboard input and output
* Interrupt descriptor table with fault-driven panics
* TinyScript interpreter allows text-based `.ts` modules
* Generic filesystem driver with read/write callbacks supporting any storage device

## Prerequisites

Install the following on Ubuntu (or a similar Linux distribution):

* Cross‑compiler (e.g. `x86_64-elf-gcc`)
* Binutils cross tools (`x86_64-elf-ld`)
* NASM (for assembly modules)
* `grub-mkrescue` and `mtools` (required for ISO generation)
* `qemu-system-x86_64` (or your emulator of choice)
* `make`, `bash`, and standard Unix utilities

## Building

1. Clone the repository and navigate into it:

   ```bash
   git clone https://github.com/ExoCore-Kernel/ExoCore-Kernel.git
   cd ExoCore-Kernel
   ```

2. Adjust `build.sh` if your cross‑toolchain is installed in a nonstandard location.

3. Make the script executable and run it:

   ```bash
   chmod +x build.sh
   ./build.sh
   ```

   When executed, `build.sh` automatically checks for updates from the GitHub repository and offers to apply them before building.

   This will clean previous builds, compile the kernel stub, build all `.c` files in `run/`, link with GRUB, and produce `exocore.iso`.

## Running in QEMU

To build and launch QEMU in one step:

```bash
./build.sh run
```

Use the optional `nographic` parameter to run QEMU without a graphical window:

```bash
./build.sh run nographic
```

Alternatively, after building, run QEMU manually:

```bash
qemu-system-x86_64 -cdrom exocore.iso -m 128M
```

## Adding Your Own Code

1. Place your C file (e.g. `myapp.c`) into the `run/` directory.
2. Follow the pattern in `run/simple-demo.c`:

   ```c
   void _start() {
       char c = console_getc(); // wait for a key press
       console_putc(c);          // echo the character
       for (;;) { /* infinite loop */ }
   }
   ```
3. Rebuild with `./build.sh`; the script detects new `.c` files automatically.
4. Select your new application in QEMU via the boot menu or launch it directly.

## Contributing

* Open issues for bug reports or feature requests.
* Submit pull requests for improvements, new modules, or documentation updates.
* Follow the existing code style (K\&R C, minimal dependencies).

## License

This project is released under the MIT License. You are free to fork, modify, and redistribute with proper attribution.
